<!DOCTYPE html><html><head><title>iExec Dapp workflow demo</title><meta charset="utf-8"><meta name="viewport"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@200;600&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/gimpfu-offchain-tutorial/index.42d0c105.css"></head><body> <div id="ellipse-container"> <div id="ellipse-15"></div> <div id="ellipse-16"></div> <div id="ellipse-14"></div> <div id="ellipse-13"></div> </div> <header style="position:relative;z-index:1"> <nav class="navbar" id="gimpfu-navbar"> <div class="col-lg-12 container"> <div class="col-lg-7"> <p id="sourcecode-link">iExec Dapp workflow demo</p> </div> <div class="col-lg-1"> <span class="badge bg-secondary info-chip" "="" id="network">Unknown network</span> </div> <div class="col-lg-4 dropdown"> <button class="btn btn-secondary btn-sm btn-warning" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" disabled aria-expanded="false" style="float:right;line-height:1;"> <span id="address" style="padding-right:8px">Please connect to the Viviani Sidechain </span> <img id="initialized-dropdown" src="/gimpfu-offchain-tutorial/dropdown-arrow.08628d42.svg" hidden> </button> <div class="dropdown-menu dropdown-menu-dark dropdown-menu-right" id="balance-dropdown" aria-labelledby="dropdownMenuButton2"> <li class="btn-sm dropdown-item"><span id="native-wallet"></span></li> <li class="btn-sm dropdown-item"><span id="account"></span></li> </div> </div> </div> </nav> </header> <div id="gimpfu-body" style="position:relative;"> <div class="col-lg-12 container"> <div class="align-items-center g-5 py-5 row"> <div class="col-lg-7"> <h1 class="gimpfu-title">Decentralized <br> Off-chain Computing</h1> <div class="col-lg-10"> <p class="gimpfu-p lead"> iExec expands the capabilities of applications running on Ethereum smart contracts, allowing for off-chain computations on-demand. </p> <p class="gimpfu-p lead"> When you develop decentralized applications, you may use iExec to overcome blockchain limitations by executing more complex logic on the iExec decentralized infrastructure. </p> <p class="gimpfu-p lead"> The iExec marketplace is similar in function to the oil market. It offers uniform and standardized access to computing resources, regardless of provider. </p> </div> </div> <div class="col-lg-5"> <lottie-player src="https://assets9.lottiefiles.com/private_files/lf30_0tve7maf.json" background="transparent" speed="0.4" style="width:510px;height:340px;" loop autoplay></lottie-player> </div> </div> </div> <div class="col-lg-12 container py-5"> <h1 class="gimpfu-section-title">Demo Overview</h1> <div class="py-3 row"> <div class="col-lg-6"> <div class="col-lg-10"> <p class="gimpfu-p lead"> iExec leverages Linux-based <a href="https://www.docker.com/">Docker</a> containers to ensure the execution of your application on a decentralized infrastructure. As of now, you can only run applications as a task, this means services are not currently supported. </p> <p class="gimpfu-p lead"> In this demo, the featured Dapp takes an image and applies a custom cartoon filter using the <a href="https://www.gimp.org/downloads/">GIMP</a> software. You can consult the source code for gimpfu-cartoon <a href="https://github.com/iExecBlockchainComputing/gimpfu-cartoon">here</a>. </p> <p class="gimpfu-p lead"> <i> Click on the button below to inspect the Dapp blockchain data : </i> </p> <label for="apps-address-input" style="font-size:14px">Dapp address</label> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-8"> <input id="apps-address-input" type="text" value="0xA19e53d5a625AfdD671B55aeFB368Ccada32A0B3" placeholder="Dapp address"> </div> <div class="col-lg-4"> <button id="apps-show-button" class="btn btn-warning" disabled>Show Dapp</button> </div> </div> </div> <label id="apps-show-error" class="error"></label> </div> </div> <div class="col-lg-6"> <div class="scrollablex" id="apps-details-output"></div> </div> </div> <h2 class="py-2">Storage Set-up</h2> <p class="gimpfu-p lead"> iExec enables running apps to produce output files. By default, files are uploaded to <a href="https://ipfs.io/">IPFS</a>. This platform ensures your result to be publicly accessible through a decentralized network. As you may not want all your data to be exposed to the world, iExec enables both optional result encryption or pushing results to private storage providers. </p> <p class="gimpfu-p lead"> <i> Click on the button below to initialize your remote storage repository : </i> </p> <div class="container"> <label id="storage-check-error" class="error"></label> </div> <div class="container" style="padding-left:0"> <button id="storage-init-button" class="btn btn-warning" disabled><span id="storage-check-output">Not connected</span> <img id="initialized-check" src="/gimpfu-offchain-tutorial/fi_check.8f782128.svg" style="padding-left:2px;" hidden> </button> <label id="storage-init-error" class="error"></label> </div> </div> <div class="col-lg-12 container py-5"> <span class="badge bg-secondary info-chip">Step 0</span> <h1 class="gimpfu-section-title">Resource Providers Orders Check</h1> <div class="py-5 row"> <div class="col-lg-6"> <div class="col-lg-10"> <p class="gimpfu-p lead"> Application providers can monetize their applications and algorithms by setting a fixed-fee for each single usage of their software (also known as a “pay-per-task” model). </p> <p class="gimpfu-p lead"> Developers also benefit from the freedom to adjust resource allocation. By not having to maintain any servers, developers deploy applications that can rapidly upscale/downscale based on user-demand. </p> <p class="gimpfu-p lead"> The iExec protocol uses an order system to handle resource matchmaking. App providers create sell orders of their app, while workerpool managers create sell orders for their resources, allowing end users to buy Dapp executions with request orders. </p> <p class="gimpfu-p lead"> Orders contain the conditions of use of a resource, they are signed by the resource owner's wallet to ensure its governance. </p> <p class="gimpfu-p lead"> <i> Click on the button below to inspect our Dapp's execution conditions : </i> </p> <label for="app-orderbook-address-input" style="font-size:14px">Dapp address</label> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-8"> <input id="app-orderbook-address-input" type="text" value="0xA19e53d5a625AfdD671B55aeFB368Ccada32A0B3" placeholder="Dapp address"> </div> <div class="col-lg-4" style="padding-right:0"> <button id="app-orderbook-show-button" class="btn btn-warning" disabled>Show app order</button> </div> </div> </div> <label id="app-orderbook-show-error" class="error"></label> </div> </div> <div class="col-lg-6"> <div class="scrollablex" id="app-orderbook-details-output"></div> </div> </div> <div class="py-5 row"> <div class="col-lg-6"> <div class="col-lg-10"> <p class="gimpfu-p lead"> Within the iExec network, providers of computing power are called ‘Workers’. As a worker, you can connect your machine to the network and provide computing power. </p> <p class="gimpfu-p lead"> Your machine executes computational tasks in exchange for a reward in RLC tokens. Workers can be individuals or companies. Anyone owning computing resources can make them available by joining a “workerpool” and renting computing power to the network. </p> <p class="gimpfu-p lead"> When a workerpool has enough workers ready to run some computation, the workerpool manager will create workerpool orders to describe the category of resources they are offering as well as the trust level used to certify the results. </p> <p class="gimpfu-p lead"> <i> Click on the button below to inspect the workerpool's execution conditions : </i> </p> <label for="workerpool-address-input" style="font-size:14px">Workerpool address</label> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-8"> <input id="workerpool-address-input" type="text" value="0xAd0b7eFEc0ABF34421B668ea7bCadaC12Dd97541" placeholder="Workerpool address"> </div> <div class="col-lg-4" style="padding-right:0"> <button id="workerpool-show-button" class="btn btn-warning" disabled>Show work order</button> </div> </div> </div> <label id="workerpool-show-error" class="error"></label> </div> </div> <div class="col-lg-6"> <div class="scrollablex" id="workerpool-details-output"></div> </div> </div> </div> <div class="col-lg-12 container py-5"> <span class="badge bg-secondary info-chip">Step 1</span> <h1 class="gimpfu-section-title">Request Order Buy</h1> <p class="gimpfu-p lead"> A user with a request will select the offer they find most relevant from the order book. The user has a variety of choices to make, including deciding which computing resources to use and what price they are willing to pay. A user can answer a specific workerpool's ask and provide the details of the required execution. </p> <p class="gimpfu-p lead">RLC tokens will be used to access the resources provided through iExec. It is the unique method of payment between application providers, computing resources providers and data providers. In order to pay for test executions, free RLC tokens are available through the sidechain testnet <a href="https://faucet.iex.ec/viviani">faucet</a>. </p> <p class="gimpfu-p lead"> Buying a request order closes a market deal, which is an agreement between a user, a Dapp developper and a workerpool manager. This creates a deal from the request order from the Dapp and parameters that the workerpool will now have to run. </p> <p class="gimpfu-p lead"> <i> Fill the image URL parameters and click on the button below to pay for the execution of our Dapp : </i> </p> <div class="py-5 row"> <div class="col-lg-6"> <div class="col-lg-10"> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-12"> <label style="padding-bottom:2px;" for="buy-appaddress-input">Dapp address</label> <input class="buy-form-input" id="buy-appaddress-input" type="text" value="0xA19e53d5a625AfdD671B55aeFB368Ccada32A0B3" placeholder="Dapp address"> <label class="py-2" for="workerpool-input">Workerpool address</label> <input class="buy-form-input" id="workerpool-input" type="text" value="0xAd0b7eFEc0ABF34421B668ea7bCadaC12Dd97541" placeholder="Workerpool address"> <label class="py-2" for="buy-params-input">App params</label> <img src="/gimpfu-offchain-tutorial/fi_info.3feed225.svg" style="padding:2px;" data-toggle="tooltip" data-placement="top" title="Used to set execution parameters : app arguments, input files, output storage, result encryption."> <input class="buy-form-input" id="buy-params-input" type="text" value='{"iexec_input_files":["URL strictly ending in .png or .jpg"]}' placeholder="Application parameters"> <label class="py-2" for="buy-category-input">Category</label> <img src="/gimpfu-offchain-tutorial/fi_info.3feed225.svg" style="padding:2px;" data-toggle="tooltip" data-placement="top" title="Used to set execution time boundaries : from 0 for XS (5 min) to 4 for XL(10 hr)."> <input class="buy-form-input" id="buy-category-input" type="text" value="0" placeholder="Category"> <label class="py-2" for="buy-trust-input">Trust</label> <img src="/gimpfu-offchain-tutorial/fi_info.3feed225.svg" style="padding:2px;" data-toggle="tooltip" data-placement="top" title="Used to set the result consensus confidence level: 1 (0%), 2 (50%), ... 1000000 (99.9999%)."> <input class="buy-form-input" id="buy-trust-input" type="text" value="1" placeholder="Trust"> </div> </div> <div class="col-lg-8 py-3" style="padding-right:0"> <button id="buy-buy-button" class="btn btn-warning" style="float:left;" disabled>Buy computation</button> </div> </div> <br> <label id="buy-buy-error" class="error py-2"></label> </div> </div> <div class="col-lg-6"> <div class="scrollablex" id="buy-dealid-output"></div> </div> </div> </div> <div class="col-lg-12 container py-5"> <span class="badge bg-secondary info-chip">Step 2</span> <h1 class="gimpfu-section-title">Deal Assignation</h1> <div class="py-5 row"> <div class="col-lg-6"> <div class="col-lg-10"> <p class="gimpfu-p lead"> A deal is a commitment from different parties (dapp developper, workerpool and user). Once a deal is committed to on the Blockchain thanks to the <a href="https://market.iex.ec/">iExec Marketplace</a>, requester funds are locked to ensure all resource providers are paid for their contributions. </p> <p class="gimpfu-p lead"> iExec uses the <a href="https://medium.com/iex-ec/poco-series-3-poco-protocole-update-a2c8f8f30126">PoCo</a> protocol, which is a set of communication patterns that the actors in the iExec platform are to follow. One fundamental aspect of <a href="https://medium.com/iex-ec/poco-series-3-poco-protocole-update-a2c8f8f30126">PoCo</a> is that the protocol is not an arbitration mechanism, but rather a set of on-chain contracts that ensure auditability, and that incentivize good behavior among participants (stake & reputation). </p> <p class="gimpfu-p lead"> <i> Click on the button below to inspect the agreement between participants : </i> </p> <label for="results-dealid-input" style="font-size:14px">Deal address</label> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-8"> <input id="results-dealid-input" type="text" value="The dealId from step 1" placeholder="Deal address"> </div> <div class="col-lg-4" style="padding-right:0"> <button id="results-showdeal-button" class="btn btn-warning" disabled>Show deal</button> </div> </div> </div> <label id="results-showdeal-error" class="error"></label> </div> </div> <div class="col-lg-6"> <div class="scrollablex" id="results-dealdetails-output"></div> </div> </div> </div> <div class="col-lg-12 container py-5"> <span class="badge bg-secondary info-chip">Step 3</span> <h1 class="gimpfu-section-title">Task Execution </h1> <div class="py-5 row"> <div class="col-lg-6"> <div class="col-lg-10"> <p class="gimpfu-p lead"> Now that a deal has been settled, the workerpool is in charge of providing a valid result to the user. The iexec-core software takes care of handling tasks described in a deal and will randomly distribute them to alive workers. </p> <p class="gimpfu-p lead"> In order to avoid false results on a given task, workers must follow <a href="https://medium.com/iex-ec/poco-series-3-poco-protocole-update-a2c8f8f30126">PoCo</a> rules, which ensures that workers have not coordinated to purposively produce a fake result. </p> <p class="gimpfu-p lead"> When a worker has successfully completed the task computation, it will send a <a href="https://en.wikipedia.org/wiki/Commitment_scheme">commit/reveal</a> contribution on the Blockchain without disclosing their result at this stage. </p> <p class="gimpfu-p lead"> <i> Click on the button below to inspect the contribution of the worker(s) : </i> </p> <label for="results-taskid-input" style="font-size:14px">Task address</label> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-8"> <input id="results-taskid-input" type="text" value="The taskId from step 2" placeholder="Task address"> </div> <div class="col-lg-4" style="padding-right:0"> <button id="results-showtask-button" class="btn btn-warning" disabled>Show task</button> </div> </div> </div> <label id="results-showtask-error" class="error"></label> </div> </div> <div class="col-lg-6"> <div class="scrollablex" id="results-taskdetails-output"></div> </div> </div> </div> <div class="col-lg-12 container py-5"> <span class="badge bg-secondary info-chip">Step 4</span> <h1 class="gimpfu-section-title">Finalization</h1> <p class="gimpfu-p lead"> Once a consensus is reached on the contributions made by each worker, the final result will be uploaded by workers, and the workerpool manager will be able to finalize the task. This call unlocks all stakes and rewards / penalize all actors depending on their role and contributions. At this final stage, the user is able to download the results, which contain intrinscally an auditable proof of execution. </p> <p class="gimpfu-p lead"> <i> Click on the button below to fetch the Dapp results from IPFS : </i> </p> <div class="row"> <div class="col-lg-6"> <div class="col-lg-10"> <label for="results-download-input" style="font-size:14px">Task address</label> <div class="col-lg-12 container" style="padding-left:0"> <div class="align-items-center row"> <div class="col-lg-8"> <input id="results-download-input" type="text" value="The COMPLETED taskId from step 2" placeholder="Task address"> </div> <div class="col-lg-4" style="padding-right:0"> <button id="results-download-button" class="btn btn-warning" disabled>Download result</button> </div> </div> </div> <label id="results-showtask-error" class="error"></label> </div> </div> </div> <label id="results-download-error" class="error"></label> </div> </div> <div class="col-lg-12 container" style="padding-top:100px;"> </div> <div class="container py-5"> </div> <script type="module" src="/gimpfu-offchain-tutorial/index.c05b9462.js"></script><script src="/gimpfu-offchain-tutorial/index.3de2a22e.js" nomodule="" defer></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin></script> <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script> </body></html>